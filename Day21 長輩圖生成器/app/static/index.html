
<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>長輩圖超級生成器 · Nano Banana</title>
  <link rel="stylesheet" href="/static/styles.css" />
</head>
<body>
  <div class="wrap">
    <div class="header">
      <div class="brand">
        <img src="/static/icons/banana.png" alt="banana" />
        <div>長輩圖超級生成器 · Nano Banana</div>
      </div>
      <div class="actions">
        <button id="btnFonts" class="big secondary" style="width:auto; font-size:18px; padding:8px 12px;">安裝字體</button>
        <button id="btnTemplates" class="big" style="width:auto; font-size:18px; padding:8px 12px;">範本</button>
      </div>
    </div>

    <div class="main">
      <div class="sidebar">
        <div class="tabs">
          <div class="tab active" data-tab="tab-text">以文生圖</div>
          <div class="tab" data-tab="tab-i2i">以圖生圖</div>
        </div>

        <div id="tab-text" class="section active">
          <div class="input-row">
            <label>提示詞</label>
            <textarea id="prompt" rows="6" placeholder="輸入想要的畫面（可用語音）"></textarea>
          </div>
          <div class="input-row">
            <label>風格（避免審美疲勞）</label>
            <div class="row-one">
              <select id="stylePreset" style="flex:1; font-size:20px; padding:10px; border-radius:12px;"></select>
              <button id="btnRandStyle" class="big" style="width:auto; font-size:18px; padding:10px 12px;">🎲 隨機</button>
            </div>
          </div>

          <div class="btn-grid">
            <button class="big secondary" id="btnVoice" aria-pressed="false" title="語音輸入">
              <svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><path d="M12 14a3 3 0 0 0 3-3V6a3 3 0 1 0-6 0v5a3 3 0 0 0 3 3zm5-3a5 5 0 0 1-10 0H5a7 7 0 0 0 14 0h-2zM11 19v3h2v-3h-2z"/></svg>
              <span>語音輸入</span>
            </button>
            <button class="big" id="btnPro">更專業！</button>
          </div>

          <div class="btn-grid" style="margin-top:12px;">
            <button class="big" id="btnIdea">找靈感</button>
            <button class="big" id="btnGenText">生成圖片</button>
          </div>

          <div class="input-row" style="margin-top:12px;">
            <label>進度</label>
            <div class="progress"><div id="progressBar"></div></div>
            <div id="log" style="font-size:18px;line-height:1.5;padding:6px 0;"></div>
          </div>
        </div>

        <div id="tab-i2i" class="section">
          <div class="input-row">
            <label>主題描述</label>
            <textarea id="i2iPrompt" rows="5" placeholder="祖孫快樂出遊，晴天，公園長椅，笑容，溫暖色調"></textarea>
          </div>
          <div class="input-row">
            <label>風格（避免審美疲勞）</label>
            <div class="row-one">
              <select id="stylePreset2" style="flex:1; font-size:20px; padding:10px; border-radius:12px;"></select>
              <button id="btnRandStyle2" class="big" style="width:auto; font-size:18px; padding:10px 12px;">🎲 隨機</button>
            </div>
          </div>
          <div class="input-row"><label>阿公阿嬤照片</label><input type="file" id="fileGrandparent" accept="image/*" /></div>
          <div class="input-row"><label>子孫照片</label><input type="file" id="fileGrandchild" accept="image/*" /></div>

          <div class="input-row"><label>一鍵主題</label><div class="chiprow" id="i2iThemes"></div></div>

          <div class="i2i-previews">
            <div class="i2i-box"><div class="i2i-title">阿公阿嬤</div><img id="gpPrev" alt="阿公阿嬤預覽" /></div>
            <div class="i2i-box"><div class="i2i-title">子孫</div><img id="gcPrev" alt="子孫預覽" /></div>
          </div>

          <div class="btn-grid" style="margin-top:12px;"><button class="big" id="btnGenI2I">生成圖片</button></div>
          <div class="input-row" style="margin-top:12px;">
            <label>進度</label>
            <div class="progress"><div id="progressBar2"></div></div>
            <div id="log2" style="font-size:18px;line-height:1.5;padding:6px 0;"></div>
          </div>
        </div>

        <div style="padding-top:16px;">
          <div class="badge">字體列表</div>
          <ul id="fontList" style="font-size:20px;"></ul>
        </div>
      </div>

      <div class="content">
        <div class="panel">
          <div class="leftcol">
            <div class="input-row">
              <label>疊字內容</label>
              <input type="text" id="overlayText" placeholder="輸入要疊的文字（例如：中秋節快樂）" />
            </div>

            <div class="input-row">
              <label>多段疊字</label>
              <div class="layerbar">
                <div id="layerBar"></div>
                <button id="btnAddLayer" class="small secondary">＋新增文字</button>
                <button id="btnRemoveLayer" class="small danger">刪除這段</button>
              </div>
            </div>

            <div class="input-row">
              <label>字體 / 大小</label>
              <div class="row-one">
                <select id="selFont" style="font-size:20px; padding: 10px; border-radius:12px; width: 60%;"></select>
                <input type="number" id="fontSize" value="72" min="16" max="256" style="font-size:20px; width:120px; padding:8px;"/>
              </div>
              <input type="range" id="fontSizeRange" min="16" max="256" value="72" />
            </div>
            <div class="input-row">
              <label>顏色 / 邊框</label>
              <div class="row-one" style="align-items:center;">
                <input type="color" id="fontColor" value="#ff2e63" style="height:48px; width:80px;"/>
                <span style="font-size:18px;">邊框寬度</span>
                <input type="number" id="strokeWidth" value="0" min="0" max="12" style="font-size:20px; width:120px; padding:8px;"/>
                <input type="color" id="strokeColor" value="#ffffff" style="height:48px; width:80px;"/>
              </div>
            </div>
            <div class="input-row">
              <label>陰影強度</label>
              <input type="range" id="shadowStrength" min="0" max="12" value="0" />
              <div class="row-one" style="align-items:center; gap:10px;">
                <span style="font-size:18px;">顏色</span>
                <input type="color" id="shadowColor" value="#00000088" style="height:40px; width:64px;"/>
              </div>
            </div>
            <div class="btn-grid" style="margin-top:4px;">
              <button class="big secondary" id="btnOverlay">套用疊字</button>
              <button class="big" id="btnSave">存成新圖</button>
            </div>
            <div class="btn-grid" style="margin-top:4px;">
              <button class="big secondary" id="btnShare">分享</button>
              <button class="big" id="btnDelete">刪除選取圖</button>
            </div>
            <div style="font-size:16px; opacity:.8;">提示：在右側圖片上拖曳每一段文字，或用滑桿改大小；每段都可選不同字體與顏色。</div>
          </div>

          <div class="preview" id="previewArea">
            <img id="previewImg" alt="預覽" />
            <div id="overlayWrap"></div>
          </div>
        </div>

        <div>
          <div class="badge">作品集</div>
          <div class="gallery" id="gallery"></div>
        </div>
      </div>
    </div>

    <div class="footer">亮色大字體，不用打字，多按鈕與語音 —— for 長輩。AI 生成圖片不含文字，疊字由工具負責。</div>
  </div>
  <script src="/static/app.js"></script>
</body>
</html>
